<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<title>펜토리얼</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<!-- Font -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" crossorigin />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
		<!-- CSS -->
		<link rel="stylesheet" href="/css/reset.css" />
		<link rel="stylesheet" href="/css/common.css" />
		<link rel="stylesheet" href="/css/user.css" />
	</head>
	<body>
		<div id="container">
			<div class="sub-content">
				<div class="inner">
					<section class="section">
						<div class="login_info">
							<h2 class="title_text">로그인</h2>
							<form action="" method="post" name="">
								<div class="loginWrap">
									<div class="input_box">
										<label for="user_id">아이디</label>
										<input type="text" id="user_id" name="user_id" /><br />
									</div>
									<div class="success-message hide col_red">사용할 수 있는 아이디입니다</div>
									<div class="failure-message hide col_red">아이디는 5~11글자이어야 합니다</div>
									<div class="failure-message2 hide col_red">영어 또는 숫자만 가능합니다</div>
									<div class="input_box">
										<label for="user_pwd">비밀번호</label>
										<input type="password" id="user_pwd" name="user_pwd" /><br />
									</div>
								</div>
								<div class="login_bottom">
									<div class="keep_check">
										<input type="checkbox" id="keep" name="nvlong" class="input_keep" value="off" />
										<label for="keep" class="keep_text">로그인 상태 유지</label>
									</div>
									<ul class="find_texts">
										<li>아이디 찾기</li>
										<li>비밀번호 찾기</li>
									</ul>
								</div>
								<div class="black_btns btns">
									<button class="btn" type="submit">로그인</button>
								</div>
								<div class="white_btns btns">
									<button class="btn" type="submit">회원가입</button>
								</div>
							</form>
						</div>
					</section>
				</div>
			</div>
		</div>

		<script>
			// 1. 아이디 입력창 정보 가져오기
			let elInputUsername = document.querySelector('#user_id'); // input#username
			// 2. 성공 메시지 정보 가져오기
			let elSuccessMessage = document.querySelector('.success-message'); // div.success-message.hide
			// 3. 실패 메시지 정보 가져오기 (글자수 제한 4~12글자)
			let elFailureMessage = document.querySelector('.failure-message'); // div.failure-message.hide
			// 4. 실패 메시지2 정보 가져오기 (영어 또는 숫자)
			let elFailureMessageTwo = document.querySelector('.failure-message2'); // div.failure-message2.hide

			/* 아이디 글자 수 제한 */
			function idLength(value) {
				return value.length >= 5 && value.length <= 11;
			}

			/* 아이디 영어 숫자만 가능 */
			function onlyNumberAndEnglish(str) {
				return /^[A-Za-z0-9][A-Za-z0-9]*$/.test(str);
			}
			elInputUsername.onkeyup = function () {
				// 값을 입력한 경우
				if (elInputUsername.value.length !== 0) {
					// 영어 또는 숫자 외의 값을 입력했을 경우
					if (onlyNumberAndEnglish(elInputUsername.value) === false) {
						elSuccessMessage.classList.add('hide');
						elFailureMessage.classList.add('hide');
						elFailureMessageTwo.classList.remove('hide'); // 영어 또는 숫자만 가능합니다
					}
					// 글자 수가 4~12글자가 아닐 경우
					else if (idLength(elInputUsername.value) === false) {
						elSuccessMessage.classList.add('hide'); // 성공 메시지가 가려져야 함
						elFailureMessage.classList.remove('hide'); // 아이디는 4~12글자이어야 합니다
						elFailureMessageTwo.classList.add('hide'); // 실패 메시지2가 가려져야 함
					}
					// 조건을 모두 만족할 경우
					else if (idLength(elInputUsername.value) || onlyNumberAndEnglish(elInputUsername.value)) {
						elSuccessMessage.classList.remove('hide'); // 사용할 수 있는 아이디입니다
						elFailureMessage.classList.add('hide'); // 실패 메시지가 가려져야 함
						elFailureMessageTwo.classList.add('hide'); // 실패 메시지2가 가려져야 함
					}
				}
				// 값을 입력하지 않은 경우 (지웠을 때)
				// 모든 메시지를 가린다.
				else {
					elSuccessMessage.classList.add('hide');
					elFailureMessage.classList.add('hide');
					elFailureMessageTwo.classList.add('hide');
				}
			};
		</script>
	</body>
</html>
