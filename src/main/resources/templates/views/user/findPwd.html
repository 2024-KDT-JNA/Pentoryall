<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>로그인</title>
    <!-- favicon -->
    <!-- <link rel="icon" type="image/png" href="/assets/img/brand/favicon.png" /> -->
    <!-- <link rel="apple-touch-icon" type="image/png" href="/img/brand/apple-touch-icon.png" /> -->
    <!-- CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" ref="https://cdn.jsdelivr.net/npm/swiper@11.0.7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/common.css" />
    <link rel="stylesheet" href="./css/user.css" />
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11.0.7/swiper-bundle.min.js"></script>
</head>
<body>
<div id="wrap">
    <!-- header area -->
    <header id="header">header here</header>
    <!-- main content area -->
    <div id="main">
        <div class="container">
            <div class="findPwd">
                <h2 class="title_text">비밀번호 찾기</h2>
                <p>가입하신 이메일 주소로 인증번호를 보내드립니다.</p>
                <form class="pwd_form" action="" method="post" name="">
                    <div class="pwdWrap">
                        <div class="inputWrap">
                            <label for="user_email">이메일</label>
                            <div class="input_box">
                                <input type="email" name="user_email" id="user_email" placeholder="이메일을 입력해주세요."/>
                                <button class="black_btn" type="submit">이메일 보내기</button>
                            </div>
                        </div>
                        <div class="inputWrap">
                            <div class="input_box">
                                <input type="text" id="email_num" placeholder="인증번호 입력"/>
                                <button class="black_btn" type="submit">확인</button>
                            </div>
                        </div>
                        <div class="inputWrap">
                            <label for="user_new_pwd">새 비밀번호</label>
                            <div class="input_box">
                                <input type="password" id="user_new_pwd" name="user_new_pwd" placeholder="새 비밀번호"/>
                            </div>
                        </div>
                        <div class="inputWrap">
                            <label for="user_new_pwd">새 비밀번호 확인</label>
                            <div class="input_box">
                                <input type="password" id="user_new_pwd" name="user_new_pwd" placeholder="새 비밀번호 확인"/>
                            </div>
                        </div>
                    </div>
                    <div class="gray_btns btns">
                        <button class="btn" type="submit">저장</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- footer area -->
    <footer id="footer">footer here</footer>
</div>

<script src="./js/common.js"></script>

<script>
    // 1. 아이디 입력창 정보 가져오기
    let elInputUsername = document.querySelector('#user_id'); // input#username
    // 2. 성공 메시지 정보 가져오기
    let elSuccessMessage = document.querySelector('.success-message'); // div.success-message.hide
    // 3. 실패 메시지 정보 가져오기 (글자수 제한 4~12글자)
    let elFailureMessage = document.querySelector('.failure-message'); // div.failure-message.hide
    // 4. 실패 메시지2 정보 가져오기 (영어 또는 숫자)
    let elFailureMessageTwo = document.querySelector('.failure-message2'); // div.failure-message2.hide

    /* 아이디 글자 수 제한 */
    function idLength(value) {
        return value.length >= 5 && value.length <= 11
    }

    /* 아이디 영어 숫자만 가능 */
    function onlyNumberAndEnglish(str) {
        return /^[A-Za-z0-9][A-Za-z0-9]*$/.test(str);
    }
    elInputUsername.onkeyup = function () {
        // 값을 입력한 경우
        if (elInputUsername.value.length !== 0) {
            // 영어 또는 숫자 외의 값을 입력했을 경우
            if(onlyNumberAndEnglish(elInputUsername.value) === false) {
                elSuccessMessage.classList.add('hide');
                elFailureMessage.classList.add('hide');
                elFailureMessageTwo.classList.remove('hide'); // 영어 또는 숫자만 가능합니다
            }
            // 글자 수가 4~12글자가 아닐 경우
            else if(idLength(elInputUsername.value) === false) {
                elSuccessMessage.classList.add('hide'); // 성공 메시지가 가려져야 함
                elFailureMessage.classList.remove('hide'); // 아이디는 4~12글자이어야 합니다
                elFailureMessageTwo.classList.add('hide'); // 실패 메시지2가 가려져야 함
            }
            // 조건을 모두 만족할 경우
            else if(idLength(elInputUsername.value) || onlyNumberAndEnglish(elInputUsername.value)) {
                elSuccessMessage.classList.remove('hide'); // 사용할 수 있는 아이디입니다
                elFailureMessage.classList.add('hide'); // 실패 메시지가 가려져야 함
                elFailureMessageTwo.classList.add('hide'); // 실패 메시지2가 가려져야 함
            }
        }
            // 값을 입력하지 않은 경우 (지웠을 때)
        // 모든 메시지를 가린다.
        else {
            elSuccessMessage.classList.add('hide');
            elFailureMessage.classList.add('hide');
            elFailureMessageTwo.classList.add('hide');
        }
    }
</script>
</body>
</html>