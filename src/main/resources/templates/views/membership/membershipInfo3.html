<!DOCTYPE html>
<html lang="ko" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8">
	<title>멤버십 페이지</title>
	<script>
		// 항상 true를 반환하는 가짜 fetchMembershipStatus 함수 (테스트용)
		async function fetchMembershipStatus() {
			// 서버에서 실제 멤버십 정보를 가져오는 대신에 테스트 목적으로 항상 true 반환
			return true;
		}

		// 화면을 업데이트하는 함수
		async function updateUI() {
			const isMembershipCreated = await fetchMembershipStatus();
			if (isMembershipCreated) {
				// 멤버십을 개설한 경우
				document.getElementById('membership-not-created').style.display = 'none';
				document.getElementById('membership-created').style.display = 'block';
			} else {
				// 멤버십을 개설하지 않은 경우
				document.getElementById('membership-not-created').style.display = 'block';
				document.getElementById('membership-created').style.display = 'none';
			}
		}

		// 페이지가 로드될 때 화면을 업데이트
		window.onload = updateUI;
	</script>
</head>
<body>

<!-- 멤버십을 개설하지 않았을 때의 화면 -->
<div id="membership-not-created">
	<section class="section">
		<h2 class="h2">멤버십</h2>
		<div>
			<div>
				<h3 class="h3">팬들과 더 가까워지는 <br />멤버십을 개설하여 회원들과 소통해봐요!</h3>
			</div>
			<div>
				<p>아직 개설한 멤버십 플랜이 없네요!</p>
				<p>플랜을 만들어 매력적인 포스트로 사람들의 마음을 사로잡으세요!</p>
			</div>
			<div>
				<button class="button" onclick="location.href='/membership/create'">>멤버십 개설하기</button>
			</div>
		</div>
		<div>
			<div>
				<p>
					멤버십을 개설한 크리에이터는<br />
					다음 달 평균 20배의 수익을 경험했어요!
				</p>
			</div>
			<div>
				<p>이미지</p>
				ABOUT
				<p></p>멤버십은 무엇인가요? </p>
				<p>팬들로부로부터 후원을 받는 수익 모델이에요. </p>
				<p>자신의 아이디어를 포스터에 실어 자신만의 팬들을 만드세요!</p>
				<p>수익 뿐만 아니라, 팬들과의 소통으로 저희 펜토리얼을 풍족하게 해주세요!</p>
			</div>
		</div>
	</section>
</div>

<!-- 멤버십을 개설했을 때의 화면 -->
<div id="membership-created" style="display: none;">
	<section class="section" sec:authorize="isAuthenticated()">
		<h2 class="h2"><span class="username" sec:authentication="principal.name"></span>님의 창작 활동을 펜토리얼은 응원합니다.</h2>
		<p>멤버십 플랜을 활성화 시켜 작가님 만의 팬들을 만들어 소통해보세요!.</p>
		<p>팬들이 멤버십 가입이 작가님의 수익으로 전환될 수 있어요! </p>

		<div>
			<p>1개의 멤버십 플랜</p>
			<p th:text ="${Info.name}"></p>

			<p th:text ="${Info.price}"></p><p>/월</p>
			<p>n개의 혜택 포스트</p>
			<p th:text ="${Info.introduction}"></p>
		</div>
		<div>
			<button class="button">멤버십 관리</button>
		</div>
	</section>
</div>

</body>
</html>
