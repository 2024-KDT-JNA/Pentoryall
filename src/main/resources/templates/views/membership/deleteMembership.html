<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/default}">

<th:block layout:fragment="link">
    <link rel="stylesheet" th:href="@{/css/sub.css}" href="/css/sub.css"/>
    <!-- 여기에 연결할 외부 CSS 링크를 지정 -->
    <!-- 생성한 CSS 파일은 `/resources/static/css` 에 넣어주세요. -->
    <!-- [작성 예시] <link rel="stylesheet" th:href="@{/css/파일명.css}" href="/css/파일명.css" /> -->
</th:block>

<th:block layout:fragment="content">
    <div class="sub-content">
        <div class="inner">
            <section class="section">
                <h2 class="h2">멤버십 플랜 종료</h2>
                <form id="deleteForm" action="/membership/delete" method="post">
                    <input type="hidden" name="_method" value="delete"/>
                    <div class="notification">
                        <p>플랜을 종료하게 되면, 새로운 회원을 받을 수 없습니다.</p>
                    </div>
                    <div class="membership-Plan">
                        <p>종료할 멤버십 플랜</p>
                        <p>영구 종료 예정일</p>
                    </div>
                    <div class="planAnd-DAte">
                        <p>끄적끄적 라이프 (플랜이름)</p>
                        <p>2027.04.09</p>
                    </div>
                    <div class="text-box">
                        <div class="membershipPolicy">
                            <p>멤버십 플랜을 종료 신청하면</p>
                            <ul>
                                <li>후원 플랜은 마지막으로 가입한 멤버의 가입 기간이 끝날 때까지 유지 된 후 삭제됩니다.</li>
                                <li>해당 플랜의 신규 가입이 제한됩니다.</li>
                                <li>
                                    해당 플랜에 가입된 모든 멤버는 마지막 후원 날짜로부터 한 달간 기존 플랜의 혜택을 받을 수 있으며, <br/>
                                    그 이후의 후원 결제는 자동으로 취소됩니다.
                                </li>
                                <li>
                                    마지막으로 가입한 멤버의 가입 기간이 끝나면 ‘종료’ 상태인 해당 플랜이 ‘영구 종료’됩니다.<br/>
                                    단, 종료 또는 영구 종료된 플랜을 다시 활성화하는 것은 불가능합니다.
                                </li>
                                <li>하나의 플랜에만 공개 설정되었던 멤버십 포스트는 해당 플랜이 영구 종료되면 임시저장글로 이동됩니다.</li>
                                <li>모든 플랜 멤버에게 플랜 종료에 대한 안내사항이 채널 알림을 통해 고지됩니다.</li>
                            </ul>
                        </div>
                        <div class="last-ment">
                            <p>멤버십은 크리에이터를 지지하는 팬과의 약속입니다. 멤버십 종료와 삭제에 관하여 신중하게 결정해 주시기 바랍니다.</p>
                        </div>
                        <div class="check-box">
                            <input type="checkbox" id="agree" name="agree"/>
                            <label for="agree">위 내용을 모두 읽고 동의합니다.(필수)</label>
                        </div>
                    </div>
                    <div class="accordion-button">
                        <button onclick="location.href='/membership/modify'">뒤로</button>
                        <button onclick="submitForm()">멤버십 플랜 종료</button>
                    </div>
                </form>
            </section>


        </div>
    </div>
</th:block>

<th:block layout:fragment="script">
    <script th:src="@{/js/deleteMembership.js}" src="/js/deleteMembership.js">
        function submitForm() {
            var confirmDelete = confirm("정말로 멤버십 플랜을 종료하시겠습니까?");
            if (confirmDelete) {
                document.getElementById("deleteForm").submit();
            }
        }
    </script>

    <!-- JavaScript function to redirect to the membership page -->
    <!-- 생성한 CSS 파일은 `/resources/static/js` 에 넣어주세요. -->
    <!-- [작성 예시] <script th:src="@{/js/파일명.js}" src="/js/파일명.js"></script> -->
</th:block>
</html>

